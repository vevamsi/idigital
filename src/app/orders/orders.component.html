<app-header></app-header>
<div class="container-fluid">
  <h4>Orders</h4>
  <div class="row">
    <div class="col-sm-10">
      <table class="table table-bordered table-sm">
        <thead>
          <tr>
            <th>Customer Name</th>
            <th>Payment details</th>
            <th>Order Date</th>
            <th>Details</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let p of list | paginate: {itemsPerPage: 2,currentPage: p};">
            <td>{{ p.customer.name }}</td>
            <td>
              Card No.: {{p.payment?.cardno}}<br/>
              Name on Card: {{p.payment?.nameoncard}}<br/>
              Amount: Rs.{{p.payment?.amount}}
            </td>
            <td>{{ p.orderDate | date }}</td>
            <td>
              <table class="table table-sm">
                <thead>
                  <tr>
                    <th>Plant</th>
                    <th>Price</th>
                    <th>Qty</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let od of p.details">
                    <td>
                      <img
                        src="http://localhost:8080/{{ od.plant.photo }}"
                        style="width: 60px;height:60px" class="img-thumbnail"
                      />{{ od.plant.pname }}
                    </td>
                    <td>{{ od.plant.price }}</td>
                    <td>{{ od.qty }}</td>
                  </tr>
                </tbody>
              </table>
            </td>
          </tr>
        </tbody>
        <pagination-controls (pageChange)="p = $event"></pagination-controls>
      </table>
    </div>
  </div>
</div>
